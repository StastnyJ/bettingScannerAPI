(this["webpackJsonpbetting-scanner-frontend"]=this["webpackJsonpbetting-scanner-frontend"]||[]).push([[0],{78:function(e,t,a){e.exports=a(88)},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n,l=a(0),r=a.n(l),c=a(9),o=a.n(c),u=a(122),s=a(126),i=a(52),m=function(){return r.a.createElement(u.a,{position:"static"},r.a.createElement(s.a,null,r.a.createElement(i.a,{variant:"h6"},"Website scanning service")))},h=a(69),E=a(14),d=a(142),f=a(10),p=a(127),g=a(128),v=a(149),O=a(131),b=a(148),y=a(144),w=a(133),T=a(134),R=a(135),C=function(e){var t=e.createRequest,a=Object(l.useState)({url:"",keyword:""}),n=Object(E.a)(a,2),c=n[0],o=n[1],u=Object(l.useState)([]),s=Object(E.a)(u,2),m=s[0],h=s[1],d=Object(l.useState)(""),C=Object(E.a)(d,2),S=C[0],j=C[1];return Object(l.useEffect)((function(){fetch("/notifications/v1/getChats").then((function(e){e.ok?e.json().then((function(e){h(e),j(e[0].chatId)})):console.log(e.statusText)})).catch(console.log)}),[]),r.a.createElement(p.a,null,r.a.createElement(g.a,null,r.a.createElement(i.a,{variant:"h6"},"New request"),r.a.createElement("br",null),r.a.createElement(v.a,{label:"Url address",value:c.url,onChange:function(e){return o(Object(f.a)(Object(f.a)({},c),{},{url:e.target.value}))},style:{width:"100%"}}),r.a.createElement(v.a,{label:"Keyword",value:c.keyword,onChange:function(e){return o(Object(f.a)(Object(f.a)({},c),{},{keyword:e.target.value}))},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(O.a,{style:{width:"100%"}},r.a.createElement(b.a,null,"Notification client"),r.a.createElement(y.a,{value:S,onChange:function(e){j(e.target.value)}},m.map((function(e){return r.a.createElement(w.a,{key:e.chatId,value:e.chatId},e.userName," (",e.chatId,")")}))))),r.a.createElement(T.a,{style:{display:"flex"}},r.a.createElement(R.a,{variant:"contained",color:"primary",style:{marginLeft:"auto",marginRight:"12px"},disabled:0===c.url.length||0===c.keyword.length||0===S.length,onClick:function(){t("/requests/v1/",c.url,"",c.keyword,S),o({keyword:"",url:""})}},"Add request")))},S=a(132),j=a(89),I=a(136);!function(e){e.ROOT="ROOT",e.CATEGORY="CATEGORY",e.SELECTION="SELECTION",e.SUPERSPORT="SUPERSPORT",e.SUPERGROUP="SUPERGROUP",e.SPORT="SPORT",e.GROUP="GROUP",e.COMPETITION="COMPETITION",e.MATCH="MATCH"}(n||(n={}));var k,U=function(e){var t=e.newTipsportReq,a=e.setNewTipsportReq,c=e.chats,o=e.selectedChatId,u=e.setSelectedChat,s=Object(l.useState)([]),i=Object(E.a)(s,2),m=i[0],h=i[1],d=Object(l.useState)(n.COMPETITION),p=Object(E.a)(d,2),g=p[0],T=p[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(O.a,{style:{width:"50%"}},r.a.createElement(b.a,null,"Category type"),r.a.createElement(y.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:g,onChange:function(e){T(e.target.value)}},r.a.createElement(w.a,{value:n.ROOT},"Root"),r.a.createElement(w.a,{value:n.CATEGORY},"Category"),r.a.createElement(w.a,{value:n.SELECTION},"Selection"),r.a.createElement(w.a,{value:n.SUPERSPORT},"SuperSport"),r.a.createElement(w.a,{value:n.SUPERGROUP},"SuperGroup"),r.a.createElement(w.a,{value:n.SPORT},"Sport"),r.a.createElement(w.a,{value:n.GROUP},"Group"),r.a.createElement(w.a,{value:n.COMPETITION},"Competition"),r.a.createElement(w.a,{value:n.MATCH},"Match"))),r.a.createElement(v.a,{label:"Category URL",style:{width:"100%"},onBlur:function(e){var t;(t=e.target.value).length>=0&&fetch("/tipsport/v1/matches?url=".concat(t,"&categoryType=").concat(g)).then((function(e){e.ok?e.json().then(h):console.log(e.statusText)})).catch(console.log)}}),0===m.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("br",null)):r.a.createElement(S.a,null,m.map((function(e){return r.a.createElement(j.a,{key:e.id,style:{cursor:"pointer"},onClick:function(){a(Object(f.a)(Object(f.a)({},t),{},{url:"https://m.tipsport.cz/rest/offer/v1/matches/".concat(e.id,"/event-tables?fromResults=false"),displayUrl:e.matchUrl}))}},r.a.createElement(I.a,{primary:e.description}))}))),r.a.createElement(v.a,{label:"Url address",disabled:!0,value:t.url,onChange:function(e){return a(Object(f.a)(Object(f.a)({},t),{},{url:e.target.value}))},style:{width:"100%"}}),r.a.createElement(v.a,{label:"Keyword",value:t.keyword,onChange:function(e){return a(Object(f.a)(Object(f.a)({},t),{},{keyword:e.target.value}))},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(O.a,{style:{width:"100%"}},r.a.createElement(b.a,null,"Notification client"),r.a.createElement(y.a,{value:o,onChange:function(e){u(e.target.value)}},c.map((function(e){return r.a.createElement(w.a,{key:e.chatId,value:e.chatId},e.userName," (",e.chatId,")")})))))},P=function(e){var t=e.newTipsportReq,a=e.setNewTipsportReq,n=e.chats,l=e.selectedChatId,c=e.setSelectedChat,o="https://m.tipsport.cz/rest/offer/v2/sports?fromResults=false";return t.url!==o&&a(Object(f.a)(Object(f.a)({},t),{},{url:o,displayUrl:"Sports offer in left menu",keyword:""})),r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{label:"Keyword",value:t.keyword,onChange:function(e){return a(Object(f.a)(Object(f.a)({},t),{},{keyword:e.target.value}))},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(O.a,{style:{width:"100%"}},r.a.createElement(b.a,null,"Notification clinet"),r.a.createElement(y.a,{value:l,onChange:function(e){c(e.target.value)}},n.map((function(e){return r.a.createElement(w.a,{key:e.chatId,value:e.chatId},e.userName," (",e.chatId,")")})))))},q=function(e){var t=e.newTipsportReq,a=e.setNewTipsportReq,n=e.chats,l=e.selectedChatId,c=e.setSelectedChat;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{label:"Competition URL",value:t.displayUrl,onChange:function(e){return a(Object(f.a)(Object(f.a)({},t),{},{url:e.target.value.length>0?"https://betting-scanner-api.herokuapp.com/tipsport/v1/matches?url=".concat(e.target.value):"",displayUrl:e.target.value}))},style:{width:"100%"}}),r.a.createElement(v.a,{label:"Keyword",value:t.keyword,onChange:function(e){return a(Object(f.a)(Object(f.a)({},t),{},{keyword:e.target.value}))},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(O.a,{style:{width:"100%"}},r.a.createElement(b.a,null,"Email"),r.a.createElement(y.a,{value:l,onChange:function(e){c(e.target.value)}},n.map((function(e){return r.a.createElement(w.a,{key:e.chatId,value:e.chatId},e.userName," (",e.chatId,")")})))))};!function(e){e.ROOT="ROOT",e.CATEGORY="CATEGORY",e.SELECTION="SELECTION",e.SUPERSPORT="SUPERSPORT",e.SUPERGROUP="SUPERGROUP",e.SPORT="SPORT",e.GROUP="GROUP",e.COMPETITION="COMPETITION",e.MATCH="MATCH"}(k||(k={}));var N,M=function(e){var t=e.newTipsportReq,a=e.setNewTipsportReq,n=e.chats,c=e.selectedChatId,o=e.setSelectedChat;"/requests/v1/withStatus/"!==t.apiUrl&&a(Object(f.a)(Object(f.a)({},t),{},{apiUrl:"/requests/v1/withStatus/"}));var u=Object(l.useState)(k.COMPETITION),s=Object(E.a)(u,2),i=s[0],m=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(O.a,{style:{width:"50%"}},r.a.createElement(b.a,null,"Category type"),r.a.createElement(y.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:i,onChange:function(e){m(e.target.value)}},r.a.createElement(w.a,{value:k.ROOT},"Root"),r.a.createElement(w.a,{value:k.CATEGORY},"Category"),r.a.createElement(w.a,{value:k.SELECTION},"Selection"),r.a.createElement(w.a,{value:k.SUPERSPORT},"SuperSport"),r.a.createElement(w.a,{value:k.SUPERGROUP},"SuperGroup"),r.a.createElement(w.a,{value:k.SPORT},"Sport"),r.a.createElement(w.a,{value:k.GROUP},"Group"),r.a.createElement(w.a,{value:k.COMPETITION},"Competition"),r.a.createElement(w.a,{value:k.MATCH},"Match"))),r.a.createElement(v.a,{label:"Category URL",value:t.url,onChange:function(e){return a(Object(f.a)(Object(f.a)({},t),{},{url:e.target.value+"<categorySeparator>"+i,displayUrl:e.target.value,keyword:"Watchnig changes"}))},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(O.a,{style:{width:"100%"}},r.a.createElement(b.a,null,"Notification client"),r.a.createElement(y.a,{value:c,onChange:function(e){o(e.target.value)}},n.map((function(e){return r.a.createElement(w.a,{key:e.chatId,value:e.chatId},e.userName," (",e.chatId,")")})))))};!function(e){e[e.MatchDetails=0]="MatchDetails",e[e.SportsOffer=1]="SportsOffer",e[e.MatchesOffer=2]="MatchesOffer",e[e.MatchesWatcher=3]="MatchesWatcher"}(N||(N={}));var G=function(e){var t=e.createRequest,a={apiUrl:"/requests/v1/",url:"",displayUrl:"",keyword:""},n=Object(l.useState)(a),c=Object(E.a)(n,2),o=c[0],u=c[1],s=Object(l.useState)(N.MatchDetails),m=Object(E.a)(s,2),h=m[0],d=m[1],f=Object(l.useState)(""),v=Object(E.a)(f,2),b=v[0],C=v[1],S=Object(l.useState)([]),j=Object(E.a)(S,2),I=j[0],k=j[1];return Object(l.useEffect)((function(){fetch("/notifications/v1/getChats").then((function(e){e.ok?e.json().then((function(e){k(e),C(e[0].chatId)})):console.log(e.statusText)})).catch(console.log)}),[]),r.a.createElement(p.a,null,r.a.createElement(g.a,null,r.a.createElement(i.a,{variant:"h6",style:{float:"left"}},"New request for Tipsport"),r.a.createElement(O.a,{style:{float:"right"}},r.a.createElement(y.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:h,onChange:function(e){d(e.target.value),u(a)}},r.a.createElement(w.a,{value:N.MatchDetails},"Tipsport match details"),r.a.createElement(w.a,{value:N.SportsOffer},"Tipsport sports offer"),r.a.createElement(w.a,{value:N.MatchesOffer},"Tipsport matches offer"),r.a.createElement(w.a,{value:N.MatchesWatcher},"Tipsport new matches watcher"))),r.a.createElement("br",null),h===N.MatchDetails?r.a.createElement(U,{newTipsportReq:o,setNewTipsportReq:u,chats:I,selectedChatId:b,setSelectedChat:C}):h===N.SportsOffer?r.a.createElement(P,{newTipsportReq:o,setNewTipsportReq:u,chats:I,selectedChatId:b,setSelectedChat:C}):h===N.MatchesOffer?r.a.createElement(q,{newTipsportReq:o,setNewTipsportReq:u,chats:I,selectedChatId:b,setSelectedChat:C}):r.a.createElement(M,{newTipsportReq:o,setNewTipsportReq:u,chats:I,selectedChatId:b,setSelectedChat:C})),r.a.createElement(T.a,{style:{display:"flex"}},r.a.createElement(R.a,{variant:"contained",color:"primary",disabled:0===o.url.length||0===o.keyword.length||0===b.length,style:{marginLeft:"auto",marginRight:"12px"},onClick:function(){t(o.apiUrl,o.url,o.displayUrl,o.keyword,b),u(a)}},"Add request")))},x=a(137),A=a(138),W=a(139),L=a(140),D=a(141),F=a(151),H=a(65),Y=a.n(H),K=a(66),B=a.n(K),z=function(e){var t=e.requests,a=(e.loadRequests,e.deleteRequest),n=e.createRequest;return r.a.createElement(p.a,null,r.a.createElement(g.a,null,r.a.createElement(i.a,{variant:"h6"},"Current requests"),r.a.createElement("br",null),r.a.createElement(x.a,null,r.a.createElement(A.a,null,r.a.createElement(W.a,null,r.a.createElement(L.a,null,"Url"),r.a.createElement(L.a,null,"Keyword"),r.a.createElement(L.a,null,"Notification Id"),r.a.createElement(L.a,null,"Status"),r.a.createElement(L.a,null))),r.a.createElement(D.a,null,t.map((function(e){return r.a.createElement(W.a,{key:e.createdDate},r.a.createElement(L.a,null,r.a.createElement("a",{href:e.displayUrl,target:"blank"},e.displayUrl)),r.a.createElement(L.a,null,e.keyword),r.a.createElement(L.a,null,e.chatId),r.a.createElement(L.a,null,e.finnished?r.a.createElement(F.a,{label:"Finnished",color:"primary"}):r.a.createElement(F.a,{label:"Waiting"})),r.a.createElement(L.a,null,r.a.createElement(Y.a,{style:{color:"red",cursor:"pointer",float:"right"},onClick:function(){return a(e.createdDate)}}),e.finnished&&r.a.createElement(B.a,{style:{color:"blue",cursor:"pointer",float:"right"},onClick:function(){return n("/requests/v1/",e.scanUrl,e.displayUrl,e.keyword,e.chatId)}})))}))))))},J=a(147),$=a(145),Q=a(67),V=a.n(Q),X=function(){var e=Object(l.useState)([]),t=Object(E.a)(e,2),a=t[0],n=t[1],c=Object(l.useState)(!1),o=Object(E.a)(c,2),u=o[0],s=o[1];return Object(l.useEffect)((function(){fetch("/notifications/v1/getChats").then((function(e){e.ok?e.json().then(n):console.log(e.statusText)})).catch(console.log)}),[]),console.log(a),r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement(g.a,null,r.a.createElement(i.a,{variant:"h6"},"Connected notification clients"),r.a.createElement("br",null),r.a.createElement(S.a,null,a.map((function(e){return r.a.createElement(j.a,{key:e.chatId},r.a.createElement(V.a,{onClick:function(){return t=e.chatId,void fetch("/notifications/v1/test?chatId=".concat(t),{method:"POST"}).then((function(e){e.ok?s(!0):console.log(e.statusText)})).catch(console.log);var t},style:{cursor:"pointer",marginRight:"24px"}}),e.userName," (",e.chatId,")")}))))),r.a.createElement(J.a,{open:u,autoHideDuration:6e3,onClose:function(){return s(!1)}},r.a.createElement($.a,{elevation:6,variant:"filled",onClose:function(){return s(!1)},severity:"success"},"Test notification was sent successfully.")))},Z=function(){var e=Object(l.useState)([]),t=Object(E.a)(e,2),a=t[0],n=t[1],c=function(){fetch("/requests/v1/all").then((function(e){e.ok?e.json().then(n):console.log(e.statusText)})).catch(console.log)},o=function(e,t,l,r,c){fetch("".concat(e,"?url=").concat(t,"&keyword=").concat(r,"&matchUrl=").concat(l,"&email=").concat(c),{method:"post"}).then((function(e){e.ok?e.json().then((function(e){n([e].concat(Object(h.a)(a)))})):(console.log(e.statusText),alert("There was an error during creating a request"))})).catch((function(e){console.log(e),alert("There was an error during creating a request")}))};return Object(l.useEffect)(c,[]),r.a.createElement(d.a,{container:!0,spacing:3,className:"page-container"},0===a.length&&r.a.createElement(d.a,{item:!0,xs:12,lg:1}),r.a.createElement(d.a,{item:!0,xs:12,lg:5},r.a.createElement(C,{createRequest:o}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(G,{createRequest:o})),a.length>0&&r.a.createElement(d.a,{item:!0,xs:12,lg:7},r.a.createElement(z,{requests:a,deleteRequest:function(e){fetch("/requests/v1/?date=".concat(e),{method:"delete"}).then((function(t){t.ok?n(a.filter((function(t){return t.createdDate!==e}))):(console.log(t.statusText),alert("There was an error during deleting a request"))})).catch((function(e){console.log(e),alert("There was an error during deleting a request")}))},loadRequests:c,createRequest:o})),r.a.createElement(d.a,{item:!0,xs:12,lg:5},r.a.createElement(X,null)))};var _=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null),r.a.createElement("article",null,r.a.createElement(Z,null)))},ee=(a(87),a(143)),te=a(68),ae=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ne(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ee.a,{theme:Object(te.a)({palette:{primary:{main:"#343a40"},secondary:{main:"#ffffff"}}})},r.a.createElement(_,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");ae?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ne(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ne(t,e)}))}}()}},[[78,1,2]]]);
//# sourceMappingURL=main.1c578fbf.chunk.js.map