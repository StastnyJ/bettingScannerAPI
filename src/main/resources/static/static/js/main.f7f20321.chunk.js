(this["webpackJsonpbetting-scanner-frontend"]=this["webpackJsonpbetting-scanner-frontend"]||[]).push([[0],{77:function(e,t,a){e.exports=a(87)},86:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n,r=a(0),l=a.n(r),c=a(9),o=a.n(c),s=a(121),u=a(125),i=a(51),m=function(){return l.a.createElement(s.a,{position:"static"},l.a.createElement(u.a,null,l.a.createElement(i.a,{variant:"h6"},"Website scanning service")))},d=a(68),f=a(16),h=a(141),p=a(13),E=a(126),g=a(127),y=a(146),b=a(132),v=a(133),w=function(e){var t=e.createRequest,a=Object(r.useState)({url:"",keyword:""}),n=Object(f.a)(a,2),c=n[0],o=n[1];return l.a.createElement(E.a,null,l.a.createElement(g.a,null,l.a.createElement(i.a,{variant:"h6"},"New request"),l.a.createElement("br",null),l.a.createElement(y.a,{label:"Url address",value:c.url,onChange:function(e){return o(Object(p.a)(Object(p.a)({},c),{},{url:e.target.value}))},style:{width:"100%"}}),l.a.createElement(y.a,{label:"Keyword",value:c.keyword,onChange:function(e){return o(Object(p.a)(Object(p.a)({},c),{},{keyword:e.target.value}))},style:{width:"100%"}})),l.a.createElement(b.a,{style:{display:"flex"}},l.a.createElement(v.a,{variant:"contained",color:"primary",style:{marginLeft:"auto",marginRight:"12px"},disabled:0===c.url.length||0===c.keyword.length,onClick:function(){t(c.url,"",c.keyword),o({keyword:"",url:""})}},"Add request")))},O=a(130),k=a(143),j=a(135),q=a(131),R=a(88),T=a(134),C=function(e){var t=e.newTipsportReq,a=e.setNewTipsportReq,n=Object(r.useState)([]),c=Object(f.a)(n,2),o=c[0],s=c[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{label:"Category URL",style:{width:"100%"},onBlur:function(e){return t=e.target.value,void fetch("/tipsport/v1/matches?url=".concat(t)).then((function(e){e.ok?e.json().then(s):console.log(e.statusText)})).catch(console.log);var t}}),0===o.length?l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement("br",null)):l.a.createElement(q.a,null,o.map((function(e){return l.a.createElement(R.a,{key:e.id,style:{cursor:"pointer"},onClick:function(){a(Object(p.a)(Object(p.a)({},t),{},{url:"https://m.tipsport.cz/rest/offer/v1/matches/".concat(e.id,"/event-tables?fromResults=false"),displayUrl:e.matchUrl}))}},l.a.createElement(T.a,{primary:e.description}))}))),l.a.createElement(y.a,{label:"Url address",disabled:!0,value:t.url,onChange:function(e){return a(Object(p.a)(Object(p.a)({},t),{},{url:e.target.value}))},style:{width:"100%"}}),l.a.createElement(y.a,{label:"Keyword",value:t.keyword,onChange:function(e){return a(Object(p.a)(Object(p.a)({},t),{},{keyword:e.target.value}))},style:{width:"100%"}}))},x=function(e){var t=e.newTipsportReq,a=e.setNewTipsportReq,n="https://m.tipsport.cz/rest/offer/v2/sports?fromResults=false";return t.url!==n&&a({url:n,displayUrl:"Sports offer in left menu",keyword:""}),l.a.createElement(y.a,{label:"Keyword",value:t.keyword,onChange:function(e){return a(Object(p.a)(Object(p.a)({},t),{},{keyword:e.target.value}))},style:{width:"100%"}})},S=function(e){var t=e.newTipsportReq,a=e.setNewTipsportReq;return l.a.createElement(l.a.Fragment,null,l.a.createElement(y.a,{label:"Competition URL",value:t.displayUrl,onChange:function(e){return a(Object(p.a)(Object(p.a)({},t),{},{url:e.target.value.length>0?"https://betting-scanner-api.herokuapp.com/tipsport/v1/matches?url=".concat(e.target.value):"",displayUrl:e.target.value}))},style:{width:"100%"}}),l.a.createElement(y.a,{label:"Keyword",value:t.keyword,onChange:function(e){return a(Object(p.a)(Object(p.a)({},t),{},{keyword:e.target.value}))},style:{width:"100%"}}))};!function(e){e[e.MatchDetails=0]="MatchDetails",e[e.SportsOffer=1]="SportsOffer",e[e.MatchesOffer=2]="MatchesOffer"}(n||(n={}));var U=function(e){var t=e.createRequest,a={url:"",displayUrl:"",keyword:""},c=Object(r.useState)(a),o=Object(f.a)(c,2),s=o[0],u=o[1],m=Object(r.useState)(n.MatchDetails),d=Object(f.a)(m,2),h=d[0],p=d[1];return l.a.createElement(E.a,null,l.a.createElement(g.a,null,l.a.createElement(i.a,{variant:"h6",style:{float:"left"}},"New request for Tipsport"),l.a.createElement(O.a,{style:{float:"right"}},l.a.createElement(k.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:h,onChange:function(e){p(e.target.value),u(a)}},l.a.createElement(j.a,{value:n.MatchDetails},"Tipsport match details"),l.a.createElement(j.a,{value:n.SportsOffer},"Tipsport sports offer"),l.a.createElement(j.a,{value:n.MatchesOffer},"Tipsport matches offer"))),l.a.createElement("br",null),h===n.MatchDetails?l.a.createElement(C,{newTipsportReq:s,setNewTipsportReq:u}):h===n.SportsOffer?l.a.createElement(x,{newTipsportReq:s,setNewTipsportReq:u}):l.a.createElement(S,{newTipsportReq:s,setNewTipsportReq:u})),l.a.createElement(b.a,{style:{display:"flex"}},l.a.createElement(v.a,{variant:"contained",color:"primary",disabled:0===s.url.length||0===s.keyword.length,style:{marginLeft:"auto",marginRight:"12px"},onClick:function(){t(s.url,s.displayUrl,s.keyword),u({keyword:"",url:"",displayUrl:""})}},"Add request")))},D=a(136),M=a(137),N=a(138),F=a(139),L=a(140),K=a(148),z=a(65),A=a.n(z),B=a(66),I=a.n(B),J=function(e){var t=e.requests,a=(e.loadRequests,e.deleteRequest),n=e.createRequest;return l.a.createElement(E.a,null,l.a.createElement(g.a,null,l.a.createElement(i.a,{variant:"h6"},"Current requests"),l.a.createElement("br",null),l.a.createElement(D.a,null,l.a.createElement(M.a,null,l.a.createElement(N.a,null,l.a.createElement(F.a,null,"Url"),l.a.createElement(F.a,null,"Keyword"),l.a.createElement(F.a,null,"Status"),l.a.createElement(F.a,null))),l.a.createElement(L.a,null,t.map((function(e){return l.a.createElement(N.a,{key:e.createdDate},l.a.createElement(F.a,null,l.a.createElement("a",{href:e.displayUrl,target:"blank"},e.displayUrl)),l.a.createElement(F.a,null,e.keyword),l.a.createElement(F.a,null,e.finnished?l.a.createElement(K.a,{label:"Finnished",color:"primary"}):l.a.createElement(K.a,{label:"Waiting"})),l.a.createElement(F.a,null,l.a.createElement(A.a,{style:{color:"red",cursor:"pointer",float:"right"},onClick:function(){return a(e.createdDate)}}),e.finnished&&l.a.createElement(I.a,{style:{color:"blue",cursor:"pointer",float:"right"},onClick:function(){return n(e.scanUrl,e.displayUrl,e.keyword)}})))}))))))},P=a(147),W=a(144),H=function(){var e=Object(r.useState)("Loading..."),t=Object(f.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),o=Object(f.a)(c,2),s=o[0],u=o[1];return Object(r.useEffect)((function(){fetch("/emails/v1/").then((function(e){e.ok?e.text().then(n):console.log(e.statusText)})).catch(console.log)}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(E.a,null,l.a.createElement(g.a,null,l.a.createElement(i.a,{variant:"h6"},"Emailing service settings"),l.a.createElement("br",null),l.a.createElement(y.a,{label:"Email address",value:a,onChange:function(e){return n(e.target.value)},style:{width:"100%"}})),l.a.createElement(b.a,{style:{display:"flex"}},l.a.createElement("div",{style:{marginLeft:"auto"}},l.a.createElement(v.a,{variant:"contained",color:"primary",style:{marginRight:"12px"},disabled:0===a.length,onClick:function(){!function(e){fetch("/emails/v1/?email=".concat(e),{method:"POST"}).then((function(e){e.ok?u(!0):console.log(e.statusText)})).catch(console.log)}(a)}},"Set email address"),l.a.createElement(v.a,{variant:"contained",color:"primary",style:{marginRight:"12px"},disabled:0===a.length,onClick:function(){!function(e){fetch("/emails/v1/test?email=".concat(e),{method:"POST"}).then((function(e){e.ok||console.log(e.statusText)})).catch(console.log)}(a)}},"Send test email")))),l.a.createElement(P.a,{open:s,autoHideDuration:6e3,onClose:function(){return u(!1)}},l.a.createElement(W.a,{elevation:6,variant:"filled",onClose:function(){return u(!1)},severity:"success"},"Email was saved successfully.")))},G=function(){var e=Object(r.useState)([]),t=Object(f.a)(e,2),a=t[0],n=t[1],c=function(){fetch("/requests/v1/all").then((function(e){e.ok?e.json().then(n):console.log(e.statusText)})).catch(console.log)},o=function(e,t,r){fetch("/requests/v1/?url=".concat(e,"&keyword=").concat(r,"&matchUrl=").concat(t),{method:"post"}).then((function(e){e.ok?e.json().then((function(e){n([e].concat(Object(d.a)(a)))})):(console.log(e.statusText),alert("There was an error during creating a request"))})).catch((function(e){console.log(e),alert("There was an error during creating a request")}))};return Object(r.useEffect)(c,[]),l.a.createElement(h.a,{container:!0,spacing:3,className:"page-container"},0===a.length&&l.a.createElement(h.a,{item:!0,xs:12,lg:1}),l.a.createElement(h.a,{item:!0,xs:12,lg:5},l.a.createElement(w,{createRequest:o}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(U,{createRequest:o})),a.length>0&&l.a.createElement(h.a,{item:!0,xs:12,lg:7},l.a.createElement(J,{requests:a,deleteRequest:function(e){fetch("/requests/v1/?date=".concat(e),{method:"delete"}).then((function(t){t.ok?n(a.filter((function(t){return t.createdDate!==e}))):(console.log(t.statusText),alert("There was an error during deleting a request"))})).catch((function(e){console.log(e),alert("There was an error during deleting a request")}))},loadRequests:c,createRequest:o})),l.a.createElement(h.a,{item:!0,xs:12,lg:5},l.a.createElement(H,null)))};var Q=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(m,null),l.a.createElement("article",null,l.a.createElement(G,null)))},V=(a(86),a(142)),X=a(67);o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(V.a,{theme:Object(X.a)({palette:{primary:{main:"#343a40"},secondary:{main:"#ffffff"}}})},l.a.createElement(Q,null))),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.f7f20321.chunk.js.map