(this["webpackJsonpbetting-scanner-frontend"]=this["webpackJsonpbetting-scanner-frontend"]||[]).push([[0],{78:function(e,t,a){e.exports=a(88)},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n,l=a(0),r=a.n(l),c=a(9),o=a.n(c),u=a(122),s=a(126),i=a(54),m=function(){return r.a.createElement(u.a,{position:"static"},r.a.createElement(s.a,null,r.a.createElement(i.a,{variant:"h6"},"Website scanning service")))},E=a(53),f=a(14),d=a(142),h=a(13),g=a(127),p=a(128),b=a(149),y=a(131),v=a(150),w=a(144),O=a(133),j=a(134),k=a(135),q=function(e){var t=e.createRequest,a=Object(l.useState)({url:"",keyword:""}),n=Object(f.a)(a,2),c=n[0],o=n[1],u=Object(l.useState)([]),s=Object(f.a)(u,2),m=s[0],E=s[1],d=Object(l.useState)(""),q=Object(f.a)(d,2),T=q[0],R=q[1];return Object(l.useEffect)((function(){fetch("/emails/v1/").then((function(e){e.ok?e.json().then((function(e){E(e),R(e[0])})):console.log(e.statusText)})).catch(console.log)}),[]),r.a.createElement(g.a,null,r.a.createElement(p.a,null,r.a.createElement(i.a,{variant:"h6"},"New request"),r.a.createElement("br",null),r.a.createElement(b.a,{label:"Url address",value:c.url,onChange:function(e){return o(Object(h.a)(Object(h.a)({},c),{},{url:e.target.value}))},style:{width:"100%"}}),r.a.createElement(b.a,{label:"Keyword",value:c.keyword,onChange:function(e){return o(Object(h.a)(Object(h.a)({},c),{},{keyword:e.target.value}))},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(y.a,{style:{width:"100%"}},r.a.createElement(v.a,null,"Email"),r.a.createElement(w.a,{value:T,onChange:function(e){R(e.target.value)}},m.map((function(e){return r.a.createElement(O.a,{key:e,value:e},e)}))))),r.a.createElement(j.a,{style:{display:"flex"}},r.a.createElement(k.a,{variant:"contained",color:"primary",style:{marginLeft:"auto",marginRight:"12px"},disabled:0===c.url.length||0===c.keyword.length||0===T.length,onClick:function(){t(c.url,"",c.keyword,T),o({keyword:"",url:""})}},"Add request")))},T=a(132),R=a(89),S=a(136),C=function(e){var t=e.newTipsportReq,a=e.setNewTipsportReq,n=e.emails,c=e.selectedEmail,o=e.setSelectedEmail,u=Object(l.useState)([]),s=Object(f.a)(u,2),i=s[0],m=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{label:"Category URL",style:{width:"100%"},onBlur:function(e){var t;(t=e.target.value).length>=0&&fetch("/tipsport/v1/matches?url=".concat(t)).then((function(e){e.ok?e.json().then(m):console.log(e.statusText)})).catch(console.log)}}),0===i.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("br",null)):r.a.createElement(T.a,null,i.map((function(e){return r.a.createElement(R.a,{key:e.id,style:{cursor:"pointer"},onClick:function(){a(Object(h.a)(Object(h.a)({},t),{},{url:"https://m.tipsport.cz/rest/offer/v1/matches/".concat(e.id,"/event-tables?fromResults=false"),displayUrl:e.matchUrl}))}},r.a.createElement(S.a,{primary:e.description}))}))),r.a.createElement(b.a,{label:"Url address",disabled:!0,value:t.url,onChange:function(e){return a(Object(h.a)(Object(h.a)({},t),{},{url:e.target.value}))},style:{width:"100%"}}),r.a.createElement(b.a,{label:"Keyword",value:t.keyword,onChange:function(e){return a(Object(h.a)(Object(h.a)({},t),{},{keyword:e.target.value}))},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(y.a,{style:{width:"100%"}},r.a.createElement(v.a,null,"Email"),r.a.createElement(w.a,{value:c,onChange:function(e){o(e.target.value)}},n.map((function(e){return r.a.createElement(O.a,{key:e,value:e},e)})))))},x=function(e){var t=e.newTipsportReq,a=e.setNewTipsportReq,n=e.emails,l=e.selectedEmail,c=e.setSelectedEmail,o="https://m.tipsport.cz/rest/offer/v2/sports?fromResults=false";return t.url!==o&&a({url:o,displayUrl:"Sports offer in left menu",keyword:""}),r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{label:"Keyword",value:t.keyword,onChange:function(e){return a(Object(h.a)(Object(h.a)({},t),{},{keyword:e.target.value}))},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(y.a,{style:{width:"100%"}},r.a.createElement(v.a,null,"Email"),r.a.createElement(w.a,{value:l,onChange:function(e){c(e.target.value)}},n.map((function(e){return r.a.createElement(O.a,{key:e,value:e},e)})))))},U=function(e){var t=e.newTipsportReq,a=e.setNewTipsportReq,n=e.emails,l=e.selectedEmail,c=e.setSelectedEmail;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{label:"Competition URL",value:t.displayUrl,onChange:function(e){return a(Object(h.a)(Object(h.a)({},t),{},{url:e.target.value.length>0?"https://betting-scanner-api.herokuapp.com/tipsport/v1/matches?url=".concat(e.target.value):"",displayUrl:e.target.value}))},style:{width:"100%"}}),r.a.createElement(b.a,{label:"Keyword",value:t.keyword,onChange:function(e){return a(Object(h.a)(Object(h.a)({},t),{},{keyword:e.target.value}))},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(y.a,{style:{width:"100%"}},r.a.createElement(v.a,null,"Email"),r.a.createElement(w.a,{value:l,onChange:function(e){c(e.target.value)}},n.map((function(e){return r.a.createElement(O.a,{key:e,value:e},e)})))))};!function(e){e[e.MatchDetails=0]="MatchDetails",e[e.SportsOffer=1]="SportsOffer",e[e.MatchesOffer=2]="MatchesOffer"}(n||(n={}));var D=function(e){var t=e.createRequest,a={url:"",displayUrl:"",keyword:""},c=Object(l.useState)(a),o=Object(f.a)(c,2),u=o[0],s=o[1],m=Object(l.useState)(n.MatchDetails),E=Object(f.a)(m,2),d=E[0],h=E[1],b=Object(l.useState)(""),v=Object(f.a)(b,2),q=v[0],T=v[1],R=Object(l.useState)([]),S=Object(f.a)(R,2),D=S[0],M=S[1];return Object(l.useEffect)((function(){fetch("/emails/v1/").then((function(e){e.ok?e.json().then((function(e){M(e),T(e[0])})):console.log(e.statusText)})).catch(console.log)}),[]),r.a.createElement(g.a,null,r.a.createElement(p.a,null,r.a.createElement(i.a,{variant:"h6",style:{float:"left"}},"New request for Tipsport"),r.a.createElement(y.a,{style:{float:"right"}},r.a.createElement(w.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:d,onChange:function(e){h(e.target.value),s(a)}},r.a.createElement(O.a,{value:n.MatchDetails},"Tipsport match details"),r.a.createElement(O.a,{value:n.SportsOffer},"Tipsport sports offer"),r.a.createElement(O.a,{value:n.MatchesOffer},"Tipsport matches offer"))),r.a.createElement("br",null),d===n.MatchDetails?r.a.createElement(C,{newTipsportReq:u,setNewTipsportReq:s,emails:D,selectedEmail:q,setSelectedEmail:T}):d===n.SportsOffer?r.a.createElement(x,{newTipsportReq:u,setNewTipsportReq:s,emails:D,selectedEmail:q,setSelectedEmail:T}):r.a.createElement(U,{newTipsportReq:u,setNewTipsportReq:s,emails:D,selectedEmail:q,setSelectedEmail:T})),r.a.createElement(j.a,{style:{display:"flex"}},r.a.createElement(k.a,{variant:"contained",color:"primary",disabled:0===u.url.length||0===u.keyword.length||0===q.length,style:{marginLeft:"auto",marginRight:"12px"},onClick:function(){t(u.url,u.displayUrl,u.keyword,q),s({keyword:"",url:"",displayUrl:""})}},"Add request")))},M=a(137),N=a(138),F=a(139),L=a(140),K=a(141),A=a(148),z=a(52),B=a.n(z),I=a(67),J=a.n(I),P=function(e){var t=e.requests,a=(e.loadRequests,e.deleteRequest),n=e.createRequest;return r.a.createElement(g.a,null,r.a.createElement(p.a,null,r.a.createElement(i.a,{variant:"h6"},"Current requests"),r.a.createElement("br",null),r.a.createElement(M.a,null,r.a.createElement(N.a,null,r.a.createElement(F.a,null,r.a.createElement(L.a,null,"Url"),r.a.createElement(L.a,null,"Keyword"),r.a.createElement(L.a,null,"Email"),r.a.createElement(L.a,null,"Status"),r.a.createElement(L.a,null))),r.a.createElement(K.a,null,t.map((function(e){return r.a.createElement(F.a,{key:e.createdDate},r.a.createElement(L.a,null,r.a.createElement("a",{href:e.displayUrl,target:"blank"},e.displayUrl)),r.a.createElement(L.a,null,e.keyword),r.a.createElement(L.a,null,e.email),r.a.createElement(L.a,null,e.finnished?r.a.createElement(A.a,{label:"Finnished",color:"primary"}):r.a.createElement(A.a,{label:"Waiting"})),r.a.createElement(L.a,null,r.a.createElement(B.a,{style:{color:"red",cursor:"pointer",float:"right"},onClick:function(){return a(e.createdDate)}}),e.finnished&&r.a.createElement(J.a,{style:{color:"blue",cursor:"pointer",float:"right"},onClick:function(){return n(e.scanUrl,e.displayUrl,e.keyword,e.email)}})))}))))))},W=a(147),H=a(145),G=a(68),Q=a.n(G),V=function(){var e=Object(l.useState)([]),t=Object(f.a)(e,2),a=t[0],n=t[1],c=Object(l.useState)(""),o=Object(f.a)(c,2),u=o[0],s=o[1],m=Object(l.useState)(!1),d=Object(f.a)(m,2),h=d[0],y=d[1];return Object(l.useEffect)((function(){fetch("/emails/v1/").then((function(e){e.ok?e.json().then(n):console.log(e.statusText)})).catch(console.log)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null,r.a.createElement(p.a,null,r.a.createElement(i.a,{variant:"h6"},"Emailing service settings"),r.a.createElement("br",null),r.a.createElement(T.a,null,a.map((function(e){return r.a.createElement(R.a,null,r.a.createElement(B.a,{onClick:function(){return t=e,void fetch("/emails/v1/?email=".concat(t),{method:"DELETE"}).then((function(e){e.ok?n(a.filter((function(e){return t!==e}))):console.log(e.statusText)})).catch(console.log);var t},style:{color:"red",cursor:"pointer",marginRight:"4px"}})," ",r.a.createElement(Q.a,{onClick:function(){fetch("/emails/v1/test?email=".concat(e),{method:"POST"}).then((function(e){e.ok?y(!0):console.log(e.statusText)})).catch(console.log)},style:{cursor:"pointer",marginRight:"24px"}}),e)}))),r.a.createElement(b.a,{label:"Email address",value:u,onChange:function(e){return s(e.target.value)},style:{width:"100%"}})),r.a.createElement(j.a,{style:{display:"flex"}},r.a.createElement("div",{style:{marginLeft:"auto"}},r.a.createElement(k.a,{variant:"contained",color:"primary",style:{marginRight:"12px"},disabled:0===u.length,onClick:function(){var e;e=u,fetch("/emails/v1/?email=".concat(e),{method:"POST"}).then((function(t){t.ok?(n([].concat(Object(E.a)(a),[e])),s("")):console.log(t.statusText)})).catch(console.log)}},"Add email address")))),r.a.createElement(W.a,{open:h,autoHideDuration:6e3,onClose:function(){return y(!1)}},r.a.createElement(H.a,{elevation:6,variant:"filled",onClose:function(){return y(!1)},severity:"success"},"Test email was sent successfully.")))},X=function(){var e=Object(l.useState)([]),t=Object(f.a)(e,2),a=t[0],n=t[1],c=function(){fetch("/requests/v1/all").then((function(e){e.ok?e.json().then(n):console.log(e.statusText)})).catch(console.log)},o=function(e,t,l,r){fetch("/requests/v1/?url=".concat(e,"&keyword=").concat(l,"&matchUrl=").concat(t,"&email=").concat(r),{method:"post"}).then((function(e){e.ok?e.json().then((function(e){n([e].concat(Object(E.a)(a)))})):(console.log(e.statusText),alert("There was an error during creating a request"))})).catch((function(e){console.log(e),alert("There was an error during creating a request")}))};return Object(l.useEffect)(c,[]),r.a.createElement(d.a,{container:!0,spacing:3,className:"page-container"},0===a.length&&r.a.createElement(d.a,{item:!0,xs:12,lg:1}),r.a.createElement(d.a,{item:!0,xs:12,lg:5},r.a.createElement(q,{createRequest:o}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(D,{createRequest:o})),a.length>0&&r.a.createElement(d.a,{item:!0,xs:12,lg:7},r.a.createElement(P,{requests:a,deleteRequest:function(e){fetch("/requests/v1/?date=".concat(e),{method:"delete"}).then((function(t){t.ok?n(a.filter((function(t){return t.createdDate!==e}))):(console.log(t.statusText),alert("There was an error during deleting a request"))})).catch((function(e){console.log(e),alert("There was an error during deleting a request")}))},loadRequests:c,createRequest:o})),r.a.createElement(d.a,{item:!0,xs:12,lg:5},r.a.createElement(V,null)))};var Y=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null),r.a.createElement("article",null,r.a.createElement(X,null)))},Z=(a(87),a(143)),$=a(69);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Z.a,{theme:Object($.a)({palette:{primary:{main:"#343a40"},secondary:{main:"#ffffff"}}})},r.a.createElement(Y,null))),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.dca773ad.chunk.js.map