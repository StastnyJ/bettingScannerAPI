(this["webpackJsonpbetting-scanner-frontend"]=this["webpackJsonpbetting-scanner-frontend"]||[]).push([[0],{78:function(e,t,a){e.exports=a(88)},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var l,n=a(0),r=a.n(n),c=a(9),o=a.n(c),u=a(122),s=a(126),i=a(54),m=function(){return r.a.createElement(u.a,{position:"static"},r.a.createElement(s.a,null,r.a.createElement(i.a,{variant:"h6"},"Website scanning service")))},E=a(53),f=a(14),d=a(142),h=a(10),p=a(127),O=a(128),g=a(149),v=a(131),b=a(148),y=a(144),T=a(133),R=a(134),S=a(135),w=function(e){var t=e.createRequest,a=Object(n.useState)({url:"",keyword:""}),l=Object(f.a)(a,2),c=l[0],o=l[1],u=Object(n.useState)([]),s=Object(f.a)(u,2),m=s[0],E=s[1],d=Object(n.useState)(""),w=Object(f.a)(d,2),j=w[0],C=w[1];return Object(n.useEffect)((function(){fetch("/emails/v1/").then((function(e){e.ok?e.json().then((function(e){E(e),C(e[0])})):console.log(e.statusText)})).catch(console.log)}),[]),r.a.createElement(p.a,null,r.a.createElement(O.a,null,r.a.createElement(i.a,{variant:"h6"},"New request"),r.a.createElement("br",null),r.a.createElement(g.a,{label:"Url address",value:c.url,onChange:function(e){return o(Object(h.a)(Object(h.a)({},c),{},{url:e.target.value}))},style:{width:"100%"}}),r.a.createElement(g.a,{label:"Keyword",value:c.keyword,onChange:function(e){return o(Object(h.a)(Object(h.a)({},c),{},{keyword:e.target.value}))},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{style:{width:"100%"}},r.a.createElement(b.a,null,"Email"),r.a.createElement(y.a,{value:j,onChange:function(e){C(e.target.value)}},m.map((function(e){return r.a.createElement(T.a,{key:e,value:e},e)}))))),r.a.createElement(R.a,{style:{display:"flex"}},r.a.createElement(S.a,{variant:"contained",color:"primary",style:{marginLeft:"auto",marginRight:"12px"},disabled:0===c.url.length||0===c.keyword.length||0===j.length,onClick:function(){t("/requests/v1/",c.url,"",c.keyword,j),o({keyword:"",url:""})}},"Add request")))},j=a(132),C=a(89),k=a(136);!function(e){e.ROOT="ROOT",e.CATEGORY="CATEGORY",e.SELECTION="SELECTION",e.SUPERSPORT="SUPERSPORT",e.SUPERGROUP="SUPERGROUP",e.SPORT="SPORT",e.GROUP="GROUP",e.COMPETITION="COMPETITION",e.MATCH="MATCH"}(l||(l={}));var U,P=function(e){var t=e.newTipsportReq,a=e.setNewTipsportReq,c=e.emails,o=e.selectedEmail,u=e.setSelectedEmail,s=Object(n.useState)([]),i=Object(f.a)(s,2),m=i[0],E=i[1],d=Object(n.useState)(l.COMPETITION),p=Object(f.a)(d,2),O=p[0],R=p[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{style:{width:"50%"}},r.a.createElement(b.a,null,"Category type"),r.a.createElement(y.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:O,onChange:function(e){R(e.target.value)}},r.a.createElement(T.a,{value:l.ROOT},"Root"),r.a.createElement(T.a,{value:l.CATEGORY},"Category"),r.a.createElement(T.a,{value:l.SELECTION},"Selection"),r.a.createElement(T.a,{value:l.SUPERSPORT},"SuperSport"),r.a.createElement(T.a,{value:l.SUPERGROUP},"SuperGroup"),r.a.createElement(T.a,{value:l.SPORT},"Sport"),r.a.createElement(T.a,{value:l.GROUP},"Group"),r.a.createElement(T.a,{value:l.COMPETITION},"Competition"),r.a.createElement(T.a,{value:l.MATCH},"Match"))),r.a.createElement(g.a,{label:"Category URL",style:{width:"100%"},onBlur:function(e){var t;(t=e.target.value).length>=0&&fetch("/tipsport/v1/matches?url=".concat(t,"&categoryType=").concat(O)).then((function(e){e.ok?e.json().then(E):console.log(e.statusText)})).catch(console.log)}}),0===m.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("br",null)):r.a.createElement(j.a,null,m.map((function(e){return r.a.createElement(C.a,{key:e.id,style:{cursor:"pointer"},onClick:function(){a(Object(h.a)(Object(h.a)({},t),{},{url:"https://m.tipsport.cz/rest/offer/v1/matches/".concat(e.id,"/event-tables?fromResults=false"),displayUrl:e.matchUrl}))}},r.a.createElement(k.a,{primary:e.description}))}))),r.a.createElement(g.a,{label:"Url address",disabled:!0,value:t.url,onChange:function(e){return a(Object(h.a)(Object(h.a)({},t),{},{url:e.target.value}))},style:{width:"100%"}}),r.a.createElement(g.a,{label:"Keyword",value:t.keyword,onChange:function(e){return a(Object(h.a)(Object(h.a)({},t),{},{keyword:e.target.value}))},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{style:{width:"100%"}},r.a.createElement(b.a,null,"Email"),r.a.createElement(y.a,{value:o,onChange:function(e){u(e.target.value)}},c.map((function(e){return r.a.createElement(T.a,{key:e,value:e},e)})))))},q=function(e){var t=e.newTipsportReq,a=e.setNewTipsportReq,l=e.emails,n=e.selectedEmail,c=e.setSelectedEmail,o="https://m.tipsport.cz/rest/offer/v2/sports?fromResults=false";return t.url!==o&&a(Object(h.a)(Object(h.a)({},t),{},{url:o,displayUrl:"Sports offer in left menu",keyword:""})),r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{label:"Keyword",value:t.keyword,onChange:function(e){return a(Object(h.a)(Object(h.a)({},t),{},{keyword:e.target.value}))},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{style:{width:"100%"}},r.a.createElement(b.a,null,"Email"),r.a.createElement(y.a,{value:n,onChange:function(e){c(e.target.value)}},l.map((function(e){return r.a.createElement(T.a,{key:e,value:e},e)})))))},M=function(e){var t=e.newTipsportReq,a=e.setNewTipsportReq,l=e.emails,n=e.selectedEmail,c=e.setSelectedEmail;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{label:"Competition URL",value:t.displayUrl,onChange:function(e){return a(Object(h.a)(Object(h.a)({},t),{},{url:e.target.value.length>0?"https://betting-scanner-api.herokuapp.com/tipsport/v1/matches?url=".concat(e.target.value):"",displayUrl:e.target.value}))},style:{width:"100%"}}),r.a.createElement(g.a,{label:"Keyword",value:t.keyword,onChange:function(e){return a(Object(h.a)(Object(h.a)({},t),{},{keyword:e.target.value}))},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{style:{width:"100%"}},r.a.createElement(b.a,null,"Email"),r.a.createElement(y.a,{value:n,onChange:function(e){c(e.target.value)}},l.map((function(e){return r.a.createElement(T.a,{key:e,value:e},e)})))))};!function(e){e.ROOT="ROOT",e.CATEGORY="CATEGORY",e.SELECTION="SELECTION",e.SUPERSPORT="SUPERSPORT",e.SUPERGROUP="SUPERGROUP",e.SPORT="SPORT",e.GROUP="GROUP",e.COMPETITION="COMPETITION",e.MATCH="MATCH"}(U||(U={}));var I,N=function(e){var t=e.newTipsportReq,a=e.setNewTipsportReq,l=e.emails,c=e.selectedEmail,o=e.setSelectedEmail;"/requests/v1/withStatus/"!==t.apiUrl&&a(Object(h.a)(Object(h.a)({},t),{},{apiUrl:"/requests/v1/withStatus/"}));var u=Object(n.useState)(U.COMPETITION),s=Object(f.a)(u,2),i=s[0],m=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{style:{width:"50%"}},r.a.createElement(b.a,null,"Category type"),r.a.createElement(y.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:i,onChange:function(e){m(e.target.value)}},r.a.createElement(T.a,{value:U.ROOT},"Root"),r.a.createElement(T.a,{value:U.CATEGORY},"Category"),r.a.createElement(T.a,{value:U.SELECTION},"Selection"),r.a.createElement(T.a,{value:U.SUPERSPORT},"SuperSport"),r.a.createElement(T.a,{value:U.SUPERGROUP},"SuperGroup"),r.a.createElement(T.a,{value:U.SPORT},"Sport"),r.a.createElement(T.a,{value:U.GROUP},"Group"),r.a.createElement(T.a,{value:U.COMPETITION},"Competition"),r.a.createElement(T.a,{value:U.MATCH},"Match"))),r.a.createElement(g.a,{label:"Category URL",value:t.url,onChange:function(e){return a(Object(h.a)(Object(h.a)({},t),{},{url:e.target.value+"<categorySeparator>"+i,displayUrl:e.target.value,keyword:"Watchnig changes"}))},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{style:{width:"100%"}},r.a.createElement(b.a,null,"Email"),r.a.createElement(y.a,{value:c,onChange:function(e){o(e.target.value)}},l.map((function(e){return r.a.createElement(T.a,{key:e,value:e},e)})))))};!function(e){e[e.MatchDetails=0]="MatchDetails",e[e.SportsOffer=1]="SportsOffer",e[e.MatchesOffer=2]="MatchesOffer",e[e.MatchesWatcher=3]="MatchesWatcher"}(I||(I={}));var x=function(e){var t=e.createRequest,a={apiUrl:"/requests/v1/",url:"",displayUrl:"",keyword:""},l=Object(n.useState)(a),c=Object(f.a)(l,2),o=c[0],u=c[1],s=Object(n.useState)(I.MatchDetails),m=Object(f.a)(s,2),E=m[0],d=m[1],h=Object(n.useState)(""),g=Object(f.a)(h,2),b=g[0],w=g[1],j=Object(n.useState)([]),C=Object(f.a)(j,2),k=C[0],U=C[1];return Object(n.useEffect)((function(){fetch("/emails/v1/").then((function(e){e.ok?e.json().then((function(e){U(e),w(e[0])})):console.log(e.statusText)})).catch(console.log)}),[]),r.a.createElement(p.a,null,r.a.createElement(O.a,null,r.a.createElement(i.a,{variant:"h6",style:{float:"left"}},"New request for Tipsport"),r.a.createElement(v.a,{style:{float:"right"}},r.a.createElement(y.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:E,onChange:function(e){d(e.target.value),u(a)}},r.a.createElement(T.a,{value:I.MatchDetails},"Tipsport match details"),r.a.createElement(T.a,{value:I.SportsOffer},"Tipsport sports offer"),r.a.createElement(T.a,{value:I.MatchesOffer},"Tipsport matches offer"),r.a.createElement(T.a,{value:I.MatchesWatcher},"Tipsport new matches watcher"))),r.a.createElement("br",null),E===I.MatchDetails?r.a.createElement(P,{newTipsportReq:o,setNewTipsportReq:u,emails:k,selectedEmail:b,setSelectedEmail:w}):E===I.SportsOffer?r.a.createElement(q,{newTipsportReq:o,setNewTipsportReq:u,emails:k,selectedEmail:b,setSelectedEmail:w}):E===I.MatchesOffer?r.a.createElement(M,{newTipsportReq:o,setNewTipsportReq:u,emails:k,selectedEmail:b,setSelectedEmail:w}):r.a.createElement(N,{newTipsportReq:o,setNewTipsportReq:u,emails:k,selectedEmail:b,setSelectedEmail:w})),r.a.createElement(R.a,{style:{display:"flex"}},r.a.createElement(S.a,{variant:"contained",color:"primary",disabled:0===o.url.length||0===o.keyword.length||0===b.length,style:{marginLeft:"auto",marginRight:"12px"},onClick:function(){t(o.apiUrl,o.url,o.displayUrl,o.keyword,b),u(a)}},"Add request")))},G=a(137),A=a(138),L=a(139),D=a(140),F=a(141),H=a(151),W=a(52),Y=a.n(W),K=a(67),z=a.n(K),B=function(e){var t=e.requests,a=(e.loadRequests,e.deleteRequest),l=e.createRequest;return r.a.createElement(p.a,null,r.a.createElement(O.a,null,r.a.createElement(i.a,{variant:"h6"},"Current requests"),r.a.createElement("br",null),r.a.createElement(G.a,null,r.a.createElement(A.a,null,r.a.createElement(L.a,null,r.a.createElement(D.a,null,"Url"),r.a.createElement(D.a,null,"Keyword"),r.a.createElement(D.a,null,"Email"),r.a.createElement(D.a,null,"Status"),r.a.createElement(D.a,null))),r.a.createElement(F.a,null,t.map((function(e){return r.a.createElement(L.a,{key:e.createdDate},r.a.createElement(D.a,null,r.a.createElement("a",{href:e.displayUrl,target:"blank"},e.displayUrl)),r.a.createElement(D.a,null,e.keyword),r.a.createElement(D.a,null,e.email),r.a.createElement(D.a,null,e.finnished?r.a.createElement(H.a,{label:"Finnished",color:"primary"}):r.a.createElement(H.a,{label:"Waiting"})),r.a.createElement(D.a,null,r.a.createElement(Y.a,{style:{color:"red",cursor:"pointer",float:"right"},onClick:function(){return a(e.createdDate)}}),e.finnished&&r.a.createElement(z.a,{style:{color:"blue",cursor:"pointer",float:"right"},onClick:function(){return l("/requests/v1/",e.scanUrl,e.displayUrl,e.keyword,e.email)}})))}))))))},J=a(147),Q=a(145),V=a(68),X=a.n(V),Z=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(f.a)(c,2),u=o[0],s=o[1],m=Object(n.useState)(!1),d=Object(f.a)(m,2),h=d[0],v=d[1];return Object(n.useEffect)((function(){fetch("/emails/v1/").then((function(e){e.ok?e.json().then(l):console.log(e.statusText)})).catch(console.log)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement(O.a,null,r.a.createElement(i.a,{variant:"h6"},"Emailing service settings"),r.a.createElement("br",null),r.a.createElement(j.a,null,a.map((function(e){return r.a.createElement(C.a,{key:e},r.a.createElement(Y.a,{onClick:function(){return t=e,void fetch("/emails/v1/?email=".concat(t),{method:"DELETE"}).then((function(e){e.ok?l(a.filter((function(e){return t!==e}))):console.log(e.statusText)})).catch(console.log);var t},style:{color:"red",cursor:"pointer",marginRight:"4px"}})," ",r.a.createElement(X.a,{onClick:function(){fetch("/emails/v1/test?email=".concat(e),{method:"POST"}).then((function(e){e.ok?v(!0):console.log(e.statusText)})).catch(console.log)},style:{cursor:"pointer",marginRight:"24px"}}),e)}))),r.a.createElement(g.a,{label:"Email address",value:u,onChange:function(e){return s(e.target.value)},style:{width:"100%"}})),r.a.createElement(R.a,{style:{display:"flex"}},r.a.createElement("div",{style:{marginLeft:"auto"}},r.a.createElement(S.a,{variant:"contained",color:"primary",style:{marginRight:"12px"},disabled:0===u.length,onClick:function(){var e;e=u,fetch("/emails/v1/?email=".concat(e),{method:"POST"}).then((function(t){t.ok?(l([].concat(Object(E.a)(a),[e])),s("")):console.log(t.statusText)})).catch(console.log)}},"Add email address")))),r.a.createElement(J.a,{open:h,autoHideDuration:6e3,onClose:function(){return v(!1)}},r.a.createElement(Q.a,{elevation:6,variant:"filled",onClose:function(){return v(!1)},severity:"success"},"Test email was sent successfully.")))},$=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),a=t[0],l=t[1],c=function(){fetch("/requests/v1/all").then((function(e){e.ok?e.json().then(l):console.log(e.statusText)})).catch(console.log)},o=function(e,t,n,r,c){fetch("".concat(e,"?url=").concat(t,"&keyword=").concat(r,"&matchUrl=").concat(n,"&email=").concat(c),{method:"post"}).then((function(e){e.ok?e.json().then((function(e){l([e].concat(Object(E.a)(a)))})):(console.log(e.statusText),alert("There was an error during creating a request"))})).catch((function(e){console.log(e),alert("There was an error during creating a request")}))};return Object(n.useEffect)(c,[]),r.a.createElement(d.a,{container:!0,spacing:3,className:"page-container"},0===a.length&&r.a.createElement(d.a,{item:!0,xs:12,lg:1}),r.a.createElement(d.a,{item:!0,xs:12,lg:5},r.a.createElement(w,{createRequest:o}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(x,{createRequest:o})),a.length>0&&r.a.createElement(d.a,{item:!0,xs:12,lg:7},r.a.createElement(B,{requests:a,deleteRequest:function(e){fetch("/requests/v1/?date=".concat(e),{method:"delete"}).then((function(t){t.ok?l(a.filter((function(t){return t.createdDate!==e}))):(console.log(t.statusText),alert("There was an error during deleting a request"))})).catch((function(e){console.log(e),alert("There was an error during deleting a request")}))},loadRequests:c,createRequest:o})),r.a.createElement(d.a,{item:!0,xs:12,lg:5},r.a.createElement(Z,null)))};var _=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null),r.a.createElement("article",null,r.a.createElement($,null)))},ee=(a(87),a(143)),te=a(69);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ee.a,{theme:Object(te.a)({palette:{primary:{main:"#343a40"},secondary:{main:"#ffffff"}}})},r.a.createElement(_,null))),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.041727c6.chunk.js.map