(this["webpackJsonpbetting-scanner-frontend"]=this["webpackJsonpbetting-scanner-frontend"]||[]).push([[0],{78:function(e,t,a){e.exports=a(88)},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var l,n=a(0),r=a.n(n),c=a(9),o=a.n(c),s=a(122),u=a(126),i=a(54),m=function(){return r.a.createElement(s.a,{position:"static"},r.a.createElement(u.a,null,r.a.createElement(i.a,{variant:"h6"},"Website scanning service")))},E=a(53),f=a(14),h=a(142),d=a(10),p=a(127),g=a(128),b=a(149),v=a(131),y=a(148),w=a(144),O=a(133),j=a(134),k=a(135),q=function(e){var t=e.createRequest,a=Object(n.useState)({url:"",keyword:""}),l=Object(f.a)(a,2),c=l[0],o=l[1],s=Object(n.useState)([]),u=Object(f.a)(s,2),m=u[0],E=u[1],h=Object(n.useState)(""),q=Object(f.a)(h,2),T=q[0],R=q[1];return Object(n.useEffect)((function(){fetch("/emails/v1/").then((function(e){e.ok?e.json().then((function(e){E(e),R(e[0])})):console.log(e.statusText)})).catch(console.log)}),[]),r.a.createElement(p.a,null,r.a.createElement(g.a,null,r.a.createElement(i.a,{variant:"h6"},"New request"),r.a.createElement("br",null),r.a.createElement(b.a,{label:"Url address",value:c.url,onChange:function(e){return o(Object(d.a)(Object(d.a)({},c),{},{url:e.target.value}))},style:{width:"100%"}}),r.a.createElement(b.a,{label:"Keyword",value:c.keyword,onChange:function(e){return o(Object(d.a)(Object(d.a)({},c),{},{keyword:e.target.value}))},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{style:{width:"100%"}},r.a.createElement(y.a,null,"Email"),r.a.createElement(w.a,{value:T,onChange:function(e){R(e.target.value)}},m.map((function(e){return r.a.createElement(O.a,{key:e,value:e},e)}))))),r.a.createElement(j.a,{style:{display:"flex"}},r.a.createElement(k.a,{variant:"contained",color:"primary",style:{marginLeft:"auto",marginRight:"12px"},disabled:0===c.url.length||0===c.keyword.length||0===T.length,onClick:function(){t("/requests/v1/",c.url,"",c.keyword,T),o({keyword:"",url:""})}},"Add request")))},T=a(132),R=a(89),S=a(136),C=function(e){var t=e.newTipsportReq,a=e.setNewTipsportReq,l=e.emails,c=e.selectedEmail,o=e.setSelectedEmail,s=Object(n.useState)([]),u=Object(f.a)(s,2),i=u[0],m=u[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{label:"Category URL",style:{width:"100%"},onBlur:function(e){var t;(t=e.target.value).length>=0&&fetch("/tipsport/v1/matches?url=".concat(t)).then((function(e){e.ok?e.json().then(m):console.log(e.statusText)})).catch(console.log)}}),0===i.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("br",null)):r.a.createElement(T.a,null,i.map((function(e){return r.a.createElement(R.a,{key:e.id,style:{cursor:"pointer"},onClick:function(){a(Object(d.a)(Object(d.a)({},t),{},{url:"https://m.tipsport.cz/rest/offer/v1/matches/".concat(e.id,"/event-tables?fromResults=false"),displayUrl:e.matchUrl}))}},r.a.createElement(S.a,{primary:e.description}))}))),r.a.createElement(b.a,{label:"Url address",disabled:!0,value:t.url,onChange:function(e){return a(Object(d.a)(Object(d.a)({},t),{},{url:e.target.value}))},style:{width:"100%"}}),r.a.createElement(b.a,{label:"Keyword",value:t.keyword,onChange:function(e){return a(Object(d.a)(Object(d.a)({},t),{},{keyword:e.target.value}))},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{style:{width:"100%"}},r.a.createElement(y.a,null,"Email"),r.a.createElement(w.a,{value:c,onChange:function(e){o(e.target.value)}},l.map((function(e){return r.a.createElement(O.a,{key:e,value:e},e)})))))},x=function(e){var t=e.newTipsportReq,a=e.setNewTipsportReq,l=e.emails,n=e.selectedEmail,c=e.setSelectedEmail,o="https://m.tipsport.cz/rest/offer/v2/sports?fromResults=false";return t.url!==o&&a(Object(d.a)(Object(d.a)({},t),{},{url:o,displayUrl:"Sports offer in left menu",keyword:""})),r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{label:"Keyword",value:t.keyword,onChange:function(e){return a(Object(d.a)(Object(d.a)({},t),{},{keyword:e.target.value}))},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{style:{width:"100%"}},r.a.createElement(y.a,null,"Email"),r.a.createElement(w.a,{value:n,onChange:function(e){c(e.target.value)}},l.map((function(e){return r.a.createElement(O.a,{key:e,value:e},e)})))))},U=function(e){var t=e.newTipsportReq,a=e.setNewTipsportReq,l=e.emails,n=e.selectedEmail,c=e.setSelectedEmail;return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{label:"Competition URL",value:t.displayUrl,onChange:function(e){return a(Object(d.a)(Object(d.a)({},t),{},{url:e.target.value.length>0?"https://betting-scanner-api.herokuapp.com/tipsport/v1/matches?url=".concat(e.target.value):"",displayUrl:e.target.value}))},style:{width:"100%"}}),r.a.createElement(b.a,{label:"Keyword",value:t.keyword,onChange:function(e){return a(Object(d.a)(Object(d.a)({},t),{},{keyword:e.target.value}))},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{style:{width:"100%"}},r.a.createElement(y.a,null,"Email"),r.a.createElement(w.a,{value:n,onChange:function(e){c(e.target.value)}},l.map((function(e){return r.a.createElement(O.a,{key:e,value:e},e)})))))},M=function(e){var t=e.newTipsportReq,a=e.setNewTipsportReq,l=e.emails,n=e.selectedEmail,c=e.setSelectedEmail;return"/requests/v1/withStatus/"!==t.apiUrl&&a(Object(d.a)(Object(d.a)({},t),{},{apiUrl:"/requests/v1/withStatus/"})),r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{label:"Category URL",value:t.url,onChange:function(e){return a(Object(d.a)(Object(d.a)({},t),{},{url:e.target.value,displayUrl:e.target.value,keyword:"Watchnig changes"}))},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{style:{width:"100%"}},r.a.createElement(y.a,null,"Email"),r.a.createElement(w.a,{value:n,onChange:function(e){c(e.target.value)}},l.map((function(e){return r.a.createElement(O.a,{key:e,value:e},e)})))))};!function(e){e[e.MatchDetails=0]="MatchDetails",e[e.SportsOffer=1]="SportsOffer",e[e.MatchesOffer=2]="MatchesOffer",e[e.MatchesWatcher=3]="MatchesWatcher"}(l||(l={}));var N=function(e){var t=e.createRequest,a={apiUrl:"/requests/v1/",url:"",displayUrl:"",keyword:""},c=Object(n.useState)(a),o=Object(f.a)(c,2),s=o[0],u=o[1],m=Object(n.useState)(l.MatchDetails),E=Object(f.a)(m,2),h=E[0],d=E[1],b=Object(n.useState)(""),y=Object(f.a)(b,2),q=y[0],T=y[1],R=Object(n.useState)([]),S=Object(f.a)(R,2),N=S[0],D=S[1];return Object(n.useEffect)((function(){fetch("/emails/v1/").then((function(e){e.ok?e.json().then((function(e){D(e),T(e[0])})):console.log(e.statusText)})).catch(console.log)}),[]),r.a.createElement(p.a,null,r.a.createElement(g.a,null,r.a.createElement(i.a,{variant:"h6",style:{float:"left"}},"New request for Tipsport"),r.a.createElement(v.a,{style:{float:"right"}},r.a.createElement(w.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:h,onChange:function(e){d(e.target.value),u(a)}},r.a.createElement(O.a,{value:l.MatchDetails},"Tipsport match details"),r.a.createElement(O.a,{value:l.SportsOffer},"Tipsport sports offer"),r.a.createElement(O.a,{value:l.MatchesOffer},"Tipsport matches offer"),r.a.createElement(O.a,{value:l.MatchesWatcher},"Tipsport new matches watcher"))),r.a.createElement("br",null),h===l.MatchDetails?r.a.createElement(C,{newTipsportReq:s,setNewTipsportReq:u,emails:N,selectedEmail:q,setSelectedEmail:T}):h===l.SportsOffer?r.a.createElement(x,{newTipsportReq:s,setNewTipsportReq:u,emails:N,selectedEmail:q,setSelectedEmail:T}):h===l.MatchesOffer?r.a.createElement(U,{newTipsportReq:s,setNewTipsportReq:u,emails:N,selectedEmail:q,setSelectedEmail:T}):r.a.createElement(M,{newTipsportReq:s,setNewTipsportReq:u,emails:N,selectedEmail:q,setSelectedEmail:T})),r.a.createElement(j.a,{style:{display:"flex"}},r.a.createElement(k.a,{variant:"contained",color:"primary",disabled:0===s.url.length||0===s.keyword.length||0===q.length,style:{marginLeft:"auto",marginRight:"12px"},onClick:function(){t(s.apiUrl,s.url,s.displayUrl,s.keyword,q),u(a)}},"Add request")))},D=a(137),F=a(138),L=a(139),W=a(140),K=a(141),A=a(151),z=a(52),B=a.n(z),I=a(67),J=a.n(I),P=function(e){var t=e.requests,a=(e.loadRequests,e.deleteRequest),l=e.createRequest;return r.a.createElement(p.a,null,r.a.createElement(g.a,null,r.a.createElement(i.a,{variant:"h6"},"Current requests"),r.a.createElement("br",null),r.a.createElement(D.a,null,r.a.createElement(F.a,null,r.a.createElement(L.a,null,r.a.createElement(W.a,null,"Url"),r.a.createElement(W.a,null,"Keyword"),r.a.createElement(W.a,null,"Email"),r.a.createElement(W.a,null,"Status"),r.a.createElement(W.a,null))),r.a.createElement(K.a,null,t.map((function(e){return r.a.createElement(L.a,{key:e.createdDate},r.a.createElement(W.a,null,r.a.createElement("a",{href:e.displayUrl,target:"blank"},e.displayUrl)),r.a.createElement(W.a,null,e.keyword),r.a.createElement(W.a,null,e.email),r.a.createElement(W.a,null,e.finnished?r.a.createElement(A.a,{label:"Finnished",color:"primary"}):r.a.createElement(A.a,{label:"Waiting"})),r.a.createElement(W.a,null,r.a.createElement(B.a,{style:{color:"red",cursor:"pointer",float:"right"},onClick:function(){return a(e.createdDate)}}),e.finnished&&r.a.createElement(J.a,{style:{color:"blue",cursor:"pointer",float:"right"},onClick:function(){return l("/requests/v1/",e.scanUrl,e.displayUrl,e.keyword,e.email)}})))}))))))},H=a(147),G=a(145),Q=a(68),V=a.n(Q),X=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(f.a)(c,2),s=o[0],u=o[1],m=Object(n.useState)(!1),h=Object(f.a)(m,2),d=h[0],v=h[1];return Object(n.useEffect)((function(){fetch("/emails/v1/").then((function(e){e.ok?e.json().then(l):console.log(e.statusText)})).catch(console.log)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement(g.a,null,r.a.createElement(i.a,{variant:"h6"},"Emailing service settings"),r.a.createElement("br",null),r.a.createElement(T.a,null,a.map((function(e){return r.a.createElement(R.a,{key:e},r.a.createElement(B.a,{onClick:function(){return t=e,void fetch("/emails/v1/?email=".concat(t),{method:"DELETE"}).then((function(e){e.ok?l(a.filter((function(e){return t!==e}))):console.log(e.statusText)})).catch(console.log);var t},style:{color:"red",cursor:"pointer",marginRight:"4px"}})," ",r.a.createElement(V.a,{onClick:function(){fetch("/emails/v1/test?email=".concat(e),{method:"POST"}).then((function(e){e.ok?v(!0):console.log(e.statusText)})).catch(console.log)},style:{cursor:"pointer",marginRight:"24px"}}),e)}))),r.a.createElement(b.a,{label:"Email address",value:s,onChange:function(e){return u(e.target.value)},style:{width:"100%"}})),r.a.createElement(j.a,{style:{display:"flex"}},r.a.createElement("div",{style:{marginLeft:"auto"}},r.a.createElement(k.a,{variant:"contained",color:"primary",style:{marginRight:"12px"},disabled:0===s.length,onClick:function(){var e;e=s,fetch("/emails/v1/?email=".concat(e),{method:"POST"}).then((function(t){t.ok?(l([].concat(Object(E.a)(a),[e])),u("")):console.log(t.statusText)})).catch(console.log)}},"Add email address")))),r.a.createElement(H.a,{open:d,autoHideDuration:6e3,onClose:function(){return v(!1)}},r.a.createElement(G.a,{elevation:6,variant:"filled",onClose:function(){return v(!1)},severity:"success"},"Test email was sent successfully.")))},Y=function(){var e=Object(n.useState)([]),t=Object(f.a)(e,2),a=t[0],l=t[1],c=function(){fetch("/requests/v1/all").then((function(e){e.ok?e.json().then(l):console.log(e.statusText)})).catch(console.log)},o=function(e,t,n,r,c){fetch("".concat(e,"?url=").concat(t,"&keyword=").concat(r,"&matchUrl=").concat(n,"&email=").concat(c),{method:"post"}).then((function(e){e.ok?e.json().then((function(e){l([e].concat(Object(E.a)(a)))})):(console.log(e.statusText),alert("There was an error during creating a request"))})).catch((function(e){console.log(e),alert("There was an error during creating a request")}))};return Object(n.useEffect)(c,[]),r.a.createElement(h.a,{container:!0,spacing:3,className:"page-container"},0===a.length&&r.a.createElement(h.a,{item:!0,xs:12,lg:1}),r.a.createElement(h.a,{item:!0,xs:12,lg:5},r.a.createElement(q,{createRequest:o}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(N,{createRequest:o})),a.length>0&&r.a.createElement(h.a,{item:!0,xs:12,lg:7},r.a.createElement(P,{requests:a,deleteRequest:function(e){fetch("/requests/v1/?date=".concat(e),{method:"delete"}).then((function(t){t.ok?l(a.filter((function(t){return t.createdDate!==e}))):(console.log(t.statusText),alert("There was an error during deleting a request"))})).catch((function(e){console.log(e),alert("There was an error during deleting a request")}))},loadRequests:c,createRequest:o})),r.a.createElement(h.a,{item:!0,xs:12,lg:5},r.a.createElement(X,null)))};var Z=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null),r.a.createElement("article",null,r.a.createElement(Y,null)))},$=(a(87),a(143)),_=a(69);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement($.a,{theme:Object(_.a)({palette:{primary:{main:"#343a40"},secondary:{main:"#ffffff"}}})},r.a.createElement(Z,null))),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.04e32e42.chunk.js.map