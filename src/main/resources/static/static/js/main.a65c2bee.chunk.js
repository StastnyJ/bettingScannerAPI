(this["webpackJsonpbetting-scanner-frontend"]=this["webpackJsonpbetting-scanner-frontend"]||[]).push([[0],{78:function(e,t,a){e.exports=a(88)},87:function(e,t,a){},88:function(e,t,a){"use strict";a.r(t);var n,l=a(0),r=a.n(l),c=a(9),o=a.n(c),u=a(122),s=a(126),i=a(52),m=function(){return r.a.createElement(u.a,{position:"static"},r.a.createElement(s.a,null,r.a.createElement(i.a,{variant:"h6"},"Website scanning service")))},E=a(69),h=a(14),d=a(142),f=a(10),p=a(127),O=a(128),g=a(149),v=a(131),b=a(148),y=a(144),T=a(133),R=a(134),C=a(135),S=function(e){var t=e.createRequest,a=Object(l.useState)({url:"",keyword:""}),n=Object(h.a)(a,2),c=n[0],o=n[1],u=Object(l.useState)([]),s=Object(h.a)(u,2),m=s[0],E=s[1],d=Object(l.useState)(""),S=Object(h.a)(d,2),w=S[0],j=S[1];return Object(l.useEffect)((function(){fetch("/notifications/v1/getChats").then((function(e){e.ok?e.json().then((function(e){E(e),j(e[0].chatId)})):console.log(e.statusText)})).catch(console.log)}),[]),r.a.createElement(p.a,null,r.a.createElement(O.a,null,r.a.createElement(i.a,{variant:"h6"},"New request"),r.a.createElement("br",null),r.a.createElement(g.a,{label:"Url address",value:c.url,onChange:function(e){return o(Object(f.a)(Object(f.a)({},c),{},{url:e.target.value}))},style:{width:"100%"}}),r.a.createElement(g.a,{label:"Keyword",value:c.keyword,onChange:function(e){return o(Object(f.a)(Object(f.a)({},c),{},{keyword:e.target.value}))},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{style:{width:"100%"}},r.a.createElement(b.a,null,"Notification client"),r.a.createElement(y.a,{value:w,onChange:function(e){j(e.target.value)}},m.map((function(e){return r.a.createElement(T.a,{key:e.chatId,value:e.chatId},e.userName," (",e.chatId,")")}))))),r.a.createElement(R.a,{style:{display:"flex"}},r.a.createElement(C.a,{variant:"contained",color:"primary",style:{marginLeft:"auto",marginRight:"12px"},disabled:0===c.url.length||0===c.keyword.length||0===w.length,onClick:function(){t("/requests/v1/",c.url,"",c.keyword,w),o({keyword:"",url:""})}},"Add request")))},w=a(132),j=a(89),I=a(136);!function(e){e.ROOT="ROOT",e.CATEGORY="CATEGORY",e.SELECTION="SELECTION",e.SUPERSPORT="SUPERSPORT",e.SUPERGROUP="SUPERGROUP",e.SPORT="SPORT",e.GROUP="GROUP",e.COMPETITION="COMPETITION",e.MATCH="MATCH"}(n||(n={}));var U,k=function(e){var t=e.newTipsportReq,a=e.setNewTipsportReq,c=e.chats,o=e.selectedChatId,u=e.setSelectedChat,s=Object(l.useState)([]),i=Object(h.a)(s,2),m=i[0],E=i[1],d=Object(l.useState)(n.COMPETITION),p=Object(h.a)(d,2),O=p[0],R=p[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{style:{width:"50%"}},r.a.createElement(b.a,null,"Category type"),r.a.createElement(y.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:O,onChange:function(e){R(e.target.value)}},r.a.createElement(T.a,{value:n.ROOT},"Root"),r.a.createElement(T.a,{value:n.CATEGORY},"Category"),r.a.createElement(T.a,{value:n.SELECTION},"Selection"),r.a.createElement(T.a,{value:n.SUPERSPORT},"SuperSport"),r.a.createElement(T.a,{value:n.SUPERGROUP},"SuperGroup"),r.a.createElement(T.a,{value:n.SPORT},"Sport"),r.a.createElement(T.a,{value:n.GROUP},"Group"),r.a.createElement(T.a,{value:n.COMPETITION},"Competition"),r.a.createElement(T.a,{value:n.MATCH},"Match"))),r.a.createElement(g.a,{label:"Category URL",style:{width:"100%"},onBlur:function(e){var t;(t=e.target.value).length>=0&&fetch("/tipsport/v1/matches?url=".concat(t,"&categoryType=").concat(O)).then((function(e){e.ok?e.json().then(E):console.log(e.statusText)})).catch(console.log)}}),0===m.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("br",null)):r.a.createElement(w.a,null,m.map((function(e){return r.a.createElement(j.a,{key:e.id,style:{cursor:"pointer"},onClick:function(){a(Object(f.a)(Object(f.a)({},t),{},{url:"https://m.tipsport.cz/rest/offer/v1/matches/".concat(e.id,"/event-tables?fromResults=false"),displayUrl:e.matchUrl}))}},r.a.createElement(I.a,{primary:e.description}))}))),r.a.createElement(g.a,{label:"Url address",disabled:!0,value:t.url,onChange:function(e){return a(Object(f.a)(Object(f.a)({},t),{},{url:e.target.value}))},style:{width:"100%"}}),r.a.createElement(g.a,{label:"Keyword",value:t.keyword,onChange:function(e){return a(Object(f.a)(Object(f.a)({},t),{},{keyword:e.target.value}))},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{style:{width:"100%"}},r.a.createElement(b.a,null,"Notification client"),r.a.createElement(y.a,{value:o,onChange:function(e){u(e.target.value)}},c.map((function(e){return r.a.createElement(T.a,{key:e.chatId,value:e.chatId},e.userName," (",e.chatId,")")})))))},P=function(e){var t=e.newTipsportReq,a=e.setNewTipsportReq,n=e.chats,l=e.selectedChatId,c=e.setSelectedChat,o="https://m.tipsport.cz/rest/offer/v2/sports?fromResults=false";return t.url!==o&&a(Object(f.a)(Object(f.a)({},t),{},{url:o,displayUrl:"Sports offer in left menu",keyword:""})),r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{label:"Keyword",value:t.keyword,onChange:function(e){return a(Object(f.a)(Object(f.a)({},t),{},{keyword:e.target.value}))},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{style:{width:"100%"}},r.a.createElement(b.a,null,"Notification clinet"),r.a.createElement(y.a,{value:l,onChange:function(e){c(e.target.value)}},n.map((function(e){return r.a.createElement(T.a,{key:e.chatId,value:e.chatId},e.userName," (",e.chatId,")")})))))},q=function(e){var t=e.newTipsportReq,a=e.setNewTipsportReq,n=e.chats,l=e.selectedChatId,c=e.setSelectedChat;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,{label:"Competition URL",value:t.displayUrl,onChange:function(e){return a(Object(f.a)(Object(f.a)({},t),{},{url:e.target.value.length>0?"https://betting-scanner-api.herokuapp.com/tipsport/v1/matches?url=".concat(e.target.value):"",displayUrl:e.target.value}))},style:{width:"100%"}}),r.a.createElement(g.a,{label:"Keyword",value:t.keyword,onChange:function(e){return a(Object(f.a)(Object(f.a)({},t),{},{keyword:e.target.value}))},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{style:{width:"100%"}},r.a.createElement(b.a,null,"Email"),r.a.createElement(y.a,{value:l,onChange:function(e){c(e.target.value)}},n.map((function(e){return r.a.createElement(T.a,{key:e.chatId,value:e.chatId},e.userName," (",e.chatId,")")})))))};!function(e){e.ROOT="ROOT",e.CATEGORY="CATEGORY",e.SELECTION="SELECTION",e.SUPERSPORT="SUPERSPORT",e.SUPERGROUP="SUPERGROUP",e.SPORT="SPORT",e.GROUP="GROUP",e.COMPETITION="COMPETITION",e.MATCH="MATCH"}(U||(U={}));var N,M=function(e){var t=e.newTipsportReq,a=e.setNewTipsportReq,n=e.chats,c=e.selectedChatId,o=e.setSelectedChat;"/requests/v1/withStatus/"!==t.apiUrl&&a(Object(f.a)(Object(f.a)({},t),{},{apiUrl:"/requests/v1/withStatus/"}));var u=Object(l.useState)(U.COMPETITION),s=Object(h.a)(u,2),i=s[0],m=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{style:{width:"50%"}},r.a.createElement(b.a,null,"Category type"),r.a.createElement(y.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:i,onChange:function(e){m(e.target.value)}},r.a.createElement(T.a,{value:U.ROOT},"Root"),r.a.createElement(T.a,{value:U.CATEGORY},"Category"),r.a.createElement(T.a,{value:U.SELECTION},"Selection"),r.a.createElement(T.a,{value:U.SUPERSPORT},"SuperSport"),r.a.createElement(T.a,{value:U.SUPERGROUP},"SuperGroup"),r.a.createElement(T.a,{value:U.SPORT},"Sport"),r.a.createElement(T.a,{value:U.GROUP},"Group"),r.a.createElement(T.a,{value:U.COMPETITION},"Competition"),r.a.createElement(T.a,{value:U.MATCH},"Match"))),r.a.createElement(g.a,{label:"Category URL",value:t.url,onChange:function(e){return a(Object(f.a)(Object(f.a)({},t),{},{url:e.target.value+"<categorySeparator>"+i,displayUrl:e.target.value,keyword:"Watchnig changes"}))},style:{width:"100%"}}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(v.a,{style:{width:"100%"}},r.a.createElement(b.a,null,"Notification client"),r.a.createElement(y.a,{value:c,onChange:function(e){o(e.target.value)}},n.map((function(e){return r.a.createElement(T.a,{key:e.chatId,value:e.chatId},e.userName," (",e.chatId,")")})))))};!function(e){e[e.MatchDetails=0]="MatchDetails",e[e.SportsOffer=1]="SportsOffer",e[e.MatchesOffer=2]="MatchesOffer",e[e.MatchesWatcher=3]="MatchesWatcher"}(N||(N={}));var G=function(e){var t=e.createRequest,a={apiUrl:"/requests/v1/",url:"",displayUrl:"",keyword:""},n=Object(l.useState)(a),c=Object(h.a)(n,2),o=c[0],u=c[1],s=Object(l.useState)(N.MatchDetails),m=Object(h.a)(s,2),E=m[0],d=m[1],f=Object(l.useState)(""),g=Object(h.a)(f,2),b=g[0],S=g[1],w=Object(l.useState)([]),j=Object(h.a)(w,2),I=j[0],U=j[1];return Object(l.useEffect)((function(){fetch("/notifications/v1/getChats").then((function(e){e.ok?e.json().then((function(e){U(e),S(e[0].chatId)})):console.log(e.statusText)})).catch(console.log)}),[]),r.a.createElement(p.a,null,r.a.createElement(O.a,null,r.a.createElement(i.a,{variant:"h6",style:{float:"left"}},"New request for Tipsport"),r.a.createElement(v.a,{style:{float:"right"}},r.a.createElement(y.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:E,onChange:function(e){d(e.target.value),u(a)}},r.a.createElement(T.a,{value:N.MatchDetails},"Tipsport match details"),r.a.createElement(T.a,{value:N.SportsOffer},"Tipsport sports offer"),r.a.createElement(T.a,{value:N.MatchesOffer},"Tipsport matches offer"),r.a.createElement(T.a,{value:N.MatchesWatcher},"Tipsport new matches watcher"))),r.a.createElement("br",null),E===N.MatchDetails?r.a.createElement(k,{newTipsportReq:o,setNewTipsportReq:u,chats:I,selectedChatId:b,setSelectedChat:S}):E===N.SportsOffer?r.a.createElement(P,{newTipsportReq:o,setNewTipsportReq:u,chats:I,selectedChatId:b,setSelectedChat:S}):E===N.MatchesOffer?r.a.createElement(q,{newTipsportReq:o,setNewTipsportReq:u,chats:I,selectedChatId:b,setSelectedChat:S}):r.a.createElement(M,{newTipsportReq:o,setNewTipsportReq:u,chats:I,selectedChatId:b,setSelectedChat:S})),r.a.createElement(R.a,{style:{display:"flex"}},r.a.createElement(C.a,{variant:"contained",color:"primary",disabled:0===o.url.length||0===o.keyword.length||0===b.length,style:{marginLeft:"auto",marginRight:"12px"},onClick:function(){t(o.apiUrl,o.url,o.displayUrl,o.keyword,b),u(a)}},"Add request")))},x=a(137),A=a(138),L=a(139),D=a(140),F=a(141),H=a(151),W=a(65),Y=a.n(W),K=a(66),z=a.n(K),B=function(e){var t=e.requests,a=(e.loadRequests,e.deleteRequest),n=e.createRequest;return r.a.createElement(p.a,null,r.a.createElement(O.a,null,r.a.createElement(i.a,{variant:"h6"},"Current requests"),r.a.createElement("br",null),r.a.createElement(x.a,null,r.a.createElement(A.a,null,r.a.createElement(L.a,null,r.a.createElement(D.a,null,"Url"),r.a.createElement(D.a,null,"Keyword"),r.a.createElement(D.a,null,"Notification Id"),r.a.createElement(D.a,null,"Status"),r.a.createElement(D.a,null))),r.a.createElement(F.a,null,t.map((function(e){return r.a.createElement(L.a,{key:e.createdDate},r.a.createElement(D.a,null,r.a.createElement("a",{href:e.displayUrl,target:"blank"},e.displayUrl)),r.a.createElement(D.a,null,e.keyword),r.a.createElement(D.a,null,e.chatId),r.a.createElement(D.a,null,e.finnished?r.a.createElement(H.a,{label:"Finnished",color:"primary"}):r.a.createElement(H.a,{label:"Waiting"})),r.a.createElement(D.a,null,r.a.createElement(Y.a,{style:{color:"red",cursor:"pointer",float:"right"},onClick:function(){return a(e.createdDate)}}),e.finnished&&r.a.createElement(z.a,{style:{color:"blue",cursor:"pointer",float:"right"},onClick:function(){return n("/requests/v1/",e.scanUrl,e.displayUrl,e.keyword,e.chatId)}})))}))))))},J=a(147),Q=a(145),V=a(67),X=a.n(V),Z=function(){var e=Object(l.useState)([]),t=Object(h.a)(e,2),a=t[0],n=t[1],c=Object(l.useState)(!1),o=Object(h.a)(c,2),u=o[0],s=o[1];return Object(l.useEffect)((function(){fetch("/notifications/v1/getChats").then((function(e){e.ok?e.json().then(n):console.log(e.statusText)})).catch(console.log)}),[]),console.log(a),r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,null,r.a.createElement(O.a,null,r.a.createElement(i.a,{variant:"h6"},"Connected notification clients"),r.a.createElement("br",null),r.a.createElement(w.a,null,a.map((function(e){return r.a.createElement(j.a,{key:e.chatId},r.a.createElement(X.a,{onClick:function(){return t=e.chatId,void fetch("/notifications/v1/test?chatId=".concat(t),{method:"POST"}).then((function(e){e.ok?s(!0):console.log(e.statusText)})).catch(console.log);var t},style:{cursor:"pointer",marginRight:"24px"}}),e.userName," (",e.chatId,")")}))))),r.a.createElement(J.a,{open:u,autoHideDuration:6e3,onClose:function(){return s(!1)}},r.a.createElement(Q.a,{elevation:6,variant:"filled",onClose:function(){return s(!1)},severity:"success"},"Test notification was sent successfully.")))},$=function(){var e=Object(l.useState)([]),t=Object(h.a)(e,2),a=t[0],n=t[1],c=function(){fetch("/requests/v1/all").then((function(e){e.ok?e.json().then(n):console.log(e.statusText)})).catch(console.log)},o=function(e,t,l,r,c){fetch("".concat(e,"?url=").concat(t,"&keyword=").concat(r,"&matchUrl=").concat(l,"&email=").concat(c),{method:"post"}).then((function(e){e.ok?e.json().then((function(e){n([e].concat(Object(E.a)(a)))})):(console.log(e.statusText),alert("There was an error during creating a request"))})).catch((function(e){console.log(e),alert("There was an error during creating a request")}))};return Object(l.useEffect)(c,[]),r.a.createElement(d.a,{container:!0,spacing:3,className:"page-container"},0===a.length&&r.a.createElement(d.a,{item:!0,xs:12,lg:1}),r.a.createElement(d.a,{item:!0,xs:12,lg:5},r.a.createElement(S,{createRequest:o}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(G,{createRequest:o})),a.length>0&&r.a.createElement(d.a,{item:!0,xs:12,lg:7},r.a.createElement(B,{requests:a,deleteRequest:function(e){fetch("/requests/v1/?date=".concat(e),{method:"delete"}).then((function(t){t.ok?n(a.filter((function(t){return t.createdDate!==e}))):(console.log(t.statusText),alert("There was an error during deleting a request"))})).catch((function(e){console.log(e),alert("There was an error during deleting a request")}))},loadRequests:c,createRequest:o})),r.a.createElement(d.a,{item:!0,xs:12,lg:5},r.a.createElement(Z,null)))};var _=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(m,null),r.a.createElement("article",null,r.a.createElement($,null)))},ee=(a(87),a(143)),te=a(68);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ee.a,{theme:Object(te.a)({palette:{primary:{main:"#343a40"},secondary:{main:"#ffffff"}}})},r.a.createElement(_,null))),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.a65c2bee.chunk.js.map